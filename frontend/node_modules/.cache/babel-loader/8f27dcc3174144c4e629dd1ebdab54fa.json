{"ast":null,"code":"import _objectSpread from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, LOGIN_RESET, EDIT_PROFILE_REQUEST, EDIT_PROFILE_SUCCESS, EDIT_PROFILE_FAILURE, EDIT_PROFILE_RESET, LOGOUT } from '../actions/types';\nvar loginInitialState = {\n  isLoading: false,\n  isAuthenticated: false,\n  username: null,\n  name: null,\n  avatar: null,\n  token: null,\n  isStaff: false,\n  error: null\n};\nvar editInitialState = {\n  isEditing: false,\n  editError: null,\n  editSuccess: false\n};\n\nvar initialState = _objectSpread({}, loginInitialState, editInitialState);\n\nvar auth = function auth() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case LOGIN_REQUEST:\n      return _objectSpread({}, state, {\n        isLoading: true,\n        isAuthenticated: false,\n        error: null\n      });\n\n    case LOGIN_SUCCESS:\n      return _objectSpread({}, state, {\n        isLoading: false,\n        isAuthenticated: true,\n        token: action.token,\n        id: action.id,\n        email: action.email,\n        avatar: action.avatar,\n        first_name: action.first_name,\n        last_name: action.last_name,\n        isStaff: action.isStaff,\n        error: null\n      });\n\n    case LOGIN_FAILURE:\n      return _objectSpread({}, state, loginInitialState, {\n        error: action.error\n      });\n\n    case EDIT_PROFILE_REQUEST:\n      return _objectSpread({}, state, {\n        isEditing: true,\n        editError: null,\n        editSuccess: false\n      });\n\n    case EDIT_PROFILE_SUCCESS:\n      return _objectSpread({}, state, {\n        isEditing: false,\n        editError: null,\n        editSuccess: true,\n        avatar: action.avatar || state.avatar,\n        name: action.name || state.name\n      });\n\n    case EDIT_PROFILE_FAILURE:\n      return _objectSpread({}, state, editInitialState, {\n        editError: action.error\n      });\n\n    case EDIT_PROFILE_RESET:\n      return _objectSpread({}, state, editInitialState);\n\n    case LOGIN_RESET:\n      return _objectSpread({}, state, loginInitialState);\n\n    case LOGOUT:\n      return initialState;\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["/Users/khanhpn/Project/freelancer/rengorum/frontend/src/reducers/auth.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGIN_RESET","EDIT_PROFILE_REQUEST","EDIT_PROFILE_SUCCESS","EDIT_PROFILE_FAILURE","EDIT_PROFILE_RESET","LOGOUT","loginInitialState","isLoading","isAuthenticated","username","name","avatar","token","isStaff","error","editInitialState","isEditing","editError","editSuccess","initialState","auth","state","action","type","id","email","first_name","last_name"],"mappings":";AAAA,SACEA,aADF,EAEEC,aAFF,EAGEC,aAHF,EAIEC,WAJF,EAKEC,oBALF,EAMEC,oBANF,EAOEC,oBAPF,EAQEC,kBARF,EASEC,MATF,QAUO,kBAVP;AAYA,IAAMC,iBAAiB,GAAG;AACxBC,EAAAA,SAAS,EAAE,KADa;AAExBC,EAAAA,eAAe,EAAE,KAFO;AAGxBC,EAAAA,QAAQ,EAAE,IAHc;AAIxBC,EAAAA,IAAI,EAAE,IAJkB;AAKxBC,EAAAA,MAAM,EAAE,IALgB;AAMxBC,EAAAA,KAAK,EAAE,IANiB;AAOxBC,EAAAA,OAAO,EAAE,KAPe;AAQxBC,EAAAA,KAAK,EAAE;AARiB,CAA1B;AAWA,IAAMC,gBAAgB,GAAG;AACvBC,EAAAA,SAAS,EAAE,KADY;AAEvBC,EAAAA,SAAS,EAAE,IAFY;AAGvBC,EAAAA,WAAW,EAAE;AAHU,CAAzB;;AAMA,IAAMC,YAAY,qBACbb,iBADa,EAEbS,gBAFa,CAAlB;;AAKA,IAAMK,IAAI,GAAG,SAAPA,IAAO,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBF,YAAyB;AAAA,MAAXG,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK1B,aAAL;AACE,+BACKwB,KADL;AAEEd,QAAAA,SAAS,EAAE,IAFb;AAGEC,QAAAA,eAAe,EAAE,KAHnB;AAIEM,QAAAA,KAAK,EAAE;AAJT;;AAMF,SAAKhB,aAAL;AACE,+BACKuB,KADL;AAEEd,QAAAA,SAAS,EAAE,KAFb;AAGEC,QAAAA,eAAe,EAAE,IAHnB;AAIEI,QAAAA,KAAK,EAAEU,MAAM,CAACV,KAJhB;AAKEY,QAAAA,EAAE,EAAEF,MAAM,CAACE,EALb;AAMEC,QAAAA,KAAK,EAAEH,MAAM,CAACG,KANhB;AAOEd,QAAAA,MAAM,EAAEW,MAAM,CAACX,MAPjB;AAQEe,QAAAA,UAAU,EAAEJ,MAAM,CAACI,UARrB;AASEC,QAAAA,SAAS,EAAEL,MAAM,CAACK,SATpB;AAUEd,QAAAA,OAAO,EAAES,MAAM,CAACT,OAVlB;AAWEC,QAAAA,KAAK,EAAE;AAXT;;AAaF,SAAKf,aAAL;AACE,+BACKsB,KADL,EAEKf,iBAFL;AAGEQ,QAAAA,KAAK,EAAEQ,MAAM,CAACR;AAHhB;;AAKF,SAAKb,oBAAL;AACE,+BACKoB,KADL;AAEEL,QAAAA,SAAS,EAAE,IAFb;AAGEC,QAAAA,SAAS,EAAE,IAHb;AAIEC,QAAAA,WAAW,EAAE;AAJf;;AAMF,SAAKhB,oBAAL;AACE,+BACKmB,KADL;AAEEL,QAAAA,SAAS,EAAE,KAFb;AAGEC,QAAAA,SAAS,EAAE,IAHb;AAIEC,QAAAA,WAAW,EAAE,IAJf;AAKEP,QAAAA,MAAM,EAAEW,MAAM,CAACX,MAAP,IAAiBU,KAAK,CAACV,MALjC;AAMED,QAAAA,IAAI,EAAEY,MAAM,CAACZ,IAAP,IAAeW,KAAK,CAACX;AAN7B;;AAQF,SAAKP,oBAAL;AACE,+BACKkB,KADL,EAEKN,gBAFL;AAGEE,QAAAA,SAAS,EAAEK,MAAM,CAACR;AAHpB;;AAKF,SAAKV,kBAAL;AACE,+BACKiB,KADL,EAEKN,gBAFL;;AAIF,SAAKf,WAAL;AACE,+BACKqB,KADL,EAEKf,iBAFL;;AAIF,SAAKD,MAAL;AACE,aAAOc,YAAP;;AACF;AACE,aAAOE,KAAP;AA/DJ;AAiED,CAlED;;AAoEA,eAAeD,IAAf","sourcesContent":["import {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  LOGIN_RESET,\r\n  EDIT_PROFILE_REQUEST,\r\n  EDIT_PROFILE_SUCCESS,\r\n  EDIT_PROFILE_FAILURE,\r\n  EDIT_PROFILE_RESET,\r\n  LOGOUT,\r\n} from '../actions/types';\r\n\r\nconst loginInitialState = {\r\n  isLoading: false,\r\n  isAuthenticated: false,\r\n  username: null,\r\n  name: null,\r\n  avatar: null,\r\n  token: null,\r\n  isStaff: false,\r\n  error: null,\r\n};\r\n\r\nconst editInitialState = {\r\n  isEditing: false,\r\n  editError: null,\r\n  editSuccess: false,\r\n};\r\n\r\nconst initialState = {\r\n  ...loginInitialState,\r\n  ...editInitialState,\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOGIN_REQUEST:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        isAuthenticated: false,\r\n        error: null,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        isAuthenticated: true,\r\n        token: action.token,\r\n        id: action.id,\r\n        email: action.email,\r\n        avatar: action.avatar,\r\n        first_name: action.first_name,\r\n        last_name: action.last_name,\r\n        isStaff: action.isStaff,\r\n        error: null,\r\n      };\r\n    case LOGIN_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n        error: action.error,\r\n      };\r\n    case EDIT_PROFILE_REQUEST:\r\n      return {\r\n        ...state,\r\n        isEditing: true,\r\n        editError: null,\r\n        editSuccess: false,\r\n      };\r\n    case EDIT_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isEditing: false,\r\n        editError: null,\r\n        editSuccess: true,\r\n        avatar: action.avatar || state.avatar,\r\n        name: action.name || state.name,\r\n      };\r\n    case EDIT_PROFILE_FAILURE:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n        editError: action.error,\r\n      };\r\n    case EDIT_PROFILE_RESET:\r\n      return {\r\n        ...state,\r\n        ...editInitialState,\r\n      };\r\n    case LOGIN_RESET:\r\n      return {\r\n        ...state,\r\n        ...loginInitialState,\r\n      };\r\n    case LOGOUT:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n"]},"metadata":{},"sourceType":"module"}