{"ast":null,"code":"import _classCallCheck from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/khanhpn/Project/freelancer/rengorum/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/khanhpn/Project/freelancer/rengorum/frontend/src/containers/userprofile/index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchUserProfile as _fetchUserProfile } from '../../actions';\nimport StatusMessage from '../../components/statusmessage';\nimport Profile from '../../components/profile';\nimport './styles.css';\n\nvar UserProfileContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserProfileContainer, _Component);\n\n  function UserProfileContainer() {\n    _classCallCheck(this, UserProfileContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(UserProfileContainer).apply(this, arguments));\n  }\n\n  _createClass(UserProfileContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var username = this.props.match.params.username;\n      this.props.fetchUserProfile(username);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      var oldUsername = this.props.match.params.username;\n      var futureUsername = newProps.match.params.username;\n\n      if (oldUsername !== futureUsername) {\n        this.props.fetchUserProfile(futureUsername);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isLoading = _this$props.isLoading,\n          error = _this$props.error,\n          profile = _this$props.profile;\n\n      if (error || !profile || isLoading) {\n        return React.createElement(StatusMessage, {\n          error: error || !profile,\n          errorClassName: \"userProfile-error\",\n          errorMessage: error,\n          loading: isLoading,\n          loadingMessage: \"We are fetching the user profile for you\",\n          type: \"default\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27\n          },\n          __self: this\n        });\n      }\n\n      var name = profile.name,\n          username = profile.username,\n          status = profile.status,\n          bio = profile.bio,\n          avatar = profile.avatar,\n          is_staff = profile.is_staff,\n          date_joined = profile.date_joined;\n      return React.createElement(Profile, {\n        username: username,\n        name: name,\n        avatar: avatar,\n        status: status,\n        bio: bio,\n        dateJoined: date_joined,\n        isStaff: is_staff,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return UserProfileContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state.userProfile.isLoading,\n    profile: state.userProfile.profile,\n    error: state.userProfile.error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    fetchUserProfile: function fetchUserProfile(username) {\n      dispatch(_fetchUserProfile(username));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserProfileContainer);","map":{"version":3,"sources":["/Users/khanhpn/Project/freelancer/rengorum/frontend/src/containers/userprofile/index.js"],"names":["React","Component","connect","fetchUserProfile","StatusMessage","Profile","UserProfileContainer","username","props","match","params","newProps","oldUsername","futureUsername","isLoading","error","profile","name","status","bio","avatar","is_staff","date_joined","mapStateToProps","state","userProfile","mapDispatchToProps","dispatch"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,gBAAgB,IAAhBA,iBAAR,QAA+B,eAA/B;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAO,cAAP;;IAEMC,oB;;;;;;;;;;;;;wCACgB;AAAA,UACXC,QADW,GACC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MADlB,CACXH,QADW;AAElB,WAAKC,KAAL,CAAWL,gBAAX,CAA4BI,QAA5B;AACD;;;8CAEyBI,Q,EAAU;AAAA,UACjBC,WADiB,GACF,KAAKJ,KAAL,CAAWC,KAAX,CAAiBC,MADf,CAC3BH,QAD2B;AAAA,UAEjBM,cAFiB,GAECF,QAAQ,CAACF,KAAT,CAAeC,MAFhB,CAE3BH,QAF2B;;AAGlC,UAAIK,WAAW,KAAKC,cAApB,EAAoC;AAClC,aAAKL,KAAL,CAAWL,gBAAX,CAA4BU,cAA5B;AACD;AACF;;;6BAEQ;AAAA,wBAC6B,KAAKL,KADlC;AAAA,UACAM,SADA,eACAA,SADA;AAAA,UACWC,KADX,eACWA,KADX;AAAA,UACkBC,OADlB,eACkBA,OADlB;;AAGP,UAAID,KAAK,IAAI,CAACC,OAAV,IAAqBF,SAAzB,EAAoC;AAClC,eACE,oBAAC,aAAD;AACE,UAAA,KAAK,EAAEC,KAAK,IAAI,CAACC,OADnB;AAEE,UAAA,cAAc,EAAC,mBAFjB;AAGE,UAAA,YAAY,EAAED,KAHhB;AAIE,UAAA,OAAO,EAAED,SAJX;AAKE,UAAA,cAAc,4CALhB;AAME,UAAA,IAAI,EAAC,SANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAUD;;AAdM,UAiBLG,IAjBK,GAwBHD,OAxBG,CAiBLC,IAjBK;AAAA,UAkBLV,QAlBK,GAwBHS,OAxBG,CAkBLT,QAlBK;AAAA,UAmBLW,MAnBK,GAwBHF,OAxBG,CAmBLE,MAnBK;AAAA,UAoBLC,GApBK,GAwBHH,OAxBG,CAoBLG,GApBK;AAAA,UAqBLC,MArBK,GAwBHJ,OAxBG,CAqBLI,MArBK;AAAA,UAsBLC,QAtBK,GAwBHL,OAxBG,CAsBLK,QAtBK;AAAA,UAuBLC,WAvBK,GAwBHN,OAxBG,CAuBLM,WAvBK;AA0BP,aACE,oBAAC,OAAD;AACE,QAAA,QAAQ,EAAEf,QADZ;AAEE,QAAA,IAAI,EAAEU,IAFR;AAGE,QAAA,MAAM,EAAEG,MAHV;AAIE,QAAA,MAAM,EAAEF,MAJV;AAKE,QAAA,GAAG,EAAEC,GALP;AAME,QAAA,UAAU,EAAEG,WANd;AAOE,QAAA,OAAO,EAAED,QAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAWD;;;;EAnDgCpB,S;;AAsDnC,IAAMsB,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAChCV,IAAAA,SAAS,EAAEU,KAAK,CAACC,WAAN,CAAkBX,SADG;AAEhCE,IAAAA,OAAO,EAAEQ,KAAK,CAACC,WAAN,CAAkBT,OAFK;AAGhCD,IAAAA,KAAK,EAAES,KAAK,CAACC,WAAN,CAAkBV;AAHO,GAAL;AAAA,CAA7B;;AAMA,IAAMW,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AACtCxB,IAAAA,gBAAgB,EAAE,0BAAAI,QAAQ,EAAI;AAC5BoB,MAAAA,QAAQ,CAACxB,iBAAgB,CAACI,QAAD,CAAjB,CAAR;AACD;AAHqC,GAAL;AAAA,CAAnC;;AAMA,eAAeL,OAAO,CACpBqB,eADoB,EAEpBG,kBAFoB,CAAP,CAGbpB,oBAHa,CAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {fetchUserProfile} from '../../actions';\r\nimport StatusMessage from '../../components/statusmessage';\r\nimport Profile from '../../components/profile';\r\nimport './styles.css';\r\n\r\nclass UserProfileContainer extends Component {\r\n  componentDidMount() {\r\n    const {username} = this.props.match.params;\r\n    this.props.fetchUserProfile(username);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    const {username: oldUsername} = this.props.match.params;\r\n    const {username: futureUsername} = newProps.match.params;\r\n    if (oldUsername !== futureUsername) {\r\n      this.props.fetchUserProfile(futureUsername);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const {isLoading, error, profile} = this.props;\r\n\r\n    if (error || !profile || isLoading) {\r\n      return (\r\n        <StatusMessage\r\n          error={error || !profile}\r\n          errorClassName=\"userProfile-error\"\r\n          errorMessage={error}\r\n          loading={isLoading}\r\n          loadingMessage={`We are fetching the user profile for you`}\r\n          type=\"default\"\r\n        />\r\n      );\r\n    }\r\n\r\n    const {\r\n      name,\r\n      username,\r\n      status,\r\n      bio,\r\n      avatar,\r\n      is_staff,\r\n      date_joined,\r\n    } = profile;\r\n\r\n    return (\r\n      <Profile\r\n        username={username}\r\n        name={name}\r\n        avatar={avatar}\r\n        status={status}\r\n        bio={bio}\r\n        dateJoined={date_joined}\r\n        isStaff={is_staff}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isLoading: state.userProfile.isLoading,\r\n  profile: state.userProfile.profile,\r\n  error: state.userProfile.error,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchUserProfile: username => {\r\n    dispatch(fetchUserProfile(username));\r\n  },\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(UserProfileContainer);\r\n"]},"metadata":{},"sourceType":"module"}